@using ItsAllSemantics.Web.Models
@inherits ComponentBase

@if (Message is not null)
{
    <div class="flex items-start gap-3 @(Message.IsUser ? "justify-end" : string.Empty)">
        @if (!Message.IsUser)
        {
            <div class="w-10 h-10 rounded-full bg-gradient-to-br from-sky-500 to-indigo-600 flex items-center justify-center font-bold text-sm flex-shrink-0">AI</div>
        }
        <div class="@(Message.IsUser
                     ? "bg-sky-600 rounded-tr-none shadow-md"
                     : "bg-white/10 backdrop-blur-md ring-1 ring-white/10 rounded-tl-none shadow-md") p-3 rounded-lg max-w-lg">
            <p class="text-sm whitespace-pre-wrap">@Message.Text</p>
            <p class="text-[10px] text-slate-400 mt-1">@Message.Timestamp.LocalDateTime.ToString("t")</p>
        </div>
    </div>
}

@code {
    [Parameter]
    public required ItsAllSemantics.Web.Models.ChatMessageModel Message { get; set; }
}
