<form @onsubmit="HandleSubmit" @onsubmit:preventDefault>
    <input @bind="MessageText" @bind:event="oninput" class="w-full rounded-md bg-slate-800 text-white p-3 outline-none focus:ring-2 focus:ring-sky-500" placeholder="Type a message..." />
    <div class="mt-2 flex justify-end">
        <button type="submit" class="bg-sky-600 hover:bg-sky-500 transition-colors text-white px-4 py-2 rounded-md" disabled="@string.IsNullOrWhiteSpace(MessageText)">Send</button>
    </div>
</form>

@code {
    [Parameter]
    public EventCallback<string> OnSend { get; set; }

    private string? MessageText { get; set; }

    private async Task HandleSubmit()
    {
        if (!string.IsNullOrWhiteSpace(MessageText))
        {
            await OnSend.InvokeAsync(MessageText);
            MessageText = string.Empty;
        }
    }
}
